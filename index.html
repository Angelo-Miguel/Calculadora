<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Calculadora</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<script>

		function enviarnumero(valorbotao) {
			var currentValue = document.getElementById("visor").innerHTML;
			var updatedValue = currentValue + valorbotao;

			var maxLength = 15; // Set the desired character limit
			if (updatedValue.length > maxLength) {
				updatedValue = updatedValue.substring(0, maxLength);
			}
			document.getElementById("visor").innerHTML = updatedValue;
		}

		function limpardigito(){
			currentValue = document.getElementById("visor").innerHTML;
		    updatedValue = currentValue.slice(0, -1);
			document.getElementById("visor").innerHTML = updatedValue;
		}

		function limparvisor(){
			document.getElementById("visor").innerHTML = "";
		}

		function operador(testeop) {
			number1 = document.getElementById("visor").innerHTML;
			operator1 = testeop;
			document.getElementById("visor").innerHTML = '';
		}

		function igual() {
			var number2 = parseFloat(document.getElementById("visor").innerHTML);
			var result = "";

			switch (operator1) {
				case '+':
					result = parseFloat(number1) + number2;
					break;
				case '-':
					result = parseFloat(number1) - number2;
					break;
				case '*':
					result = parseFloat(number1) * number2;
					break;
				case '/':
					result = parseFloat(number1) / number2;
					break;
				case 'pow':
					if (number2 = null) {
						number2 = 2;
					}
					result = Math.pow(parseFloat(number1), number2);
					break;
				case 'sqrt':
					result = Math.sqrt(parseFloat(number1));
					break;
				default:
					result = '';
			}

			document.getElementById("visor").innerHTML = result.toString();
		}


	</script>
	<div id="calculadora">
		<div class="calc">
			<form method="post">
				<table>
					<thead>
						<td colspan="4" class="visor"><p id="visor" class="escrito"></p></td>
					</thead>
					<tbody>
						<tr>
							<td><button type="button" onclick="limparvisor()">C</button></td>
							<td><button type="button" value="pow" onclick="operador(this.value)">^</button></td>
							<td><button type="button" value="sqrt" onclick="operador(this.value)">√</button></td>
							<td><button type="button" value="/" onclick="operador(this.value)">/</button></td>
						</tr>
						<tr>
							<td><button type="button" accesskey="7" value="7" onclick="enviarnumero(this.value)">7</button></td>
							<td><button type="button" accesskey="8" value="8" onclick="enviarnumero(this.value)">8</button></td>
							<td><button type="button" accesskey="9" value="9" onclick="enviarnumero(this.value)">9</button></td>
							<td><button type="button" value="*" onclick="operador(this.value)">x</button></td>
						</tr>
						<tr>
							<td><button type="button" value="4" onclick="enviarnumero(this.value)">4</button></td>
							<td><button type="button" value="5" onclick="enviarnumero(this.value)">5</button></td>
							<td><button type="button" value="6" onclick="enviarnumero(this.value)">6</button></td>
							<td><button type="button" value="-" onclick="operador(this.value)">-</button></td>
						</tr>
						<tr>
							<td><button type="button" value="1" onclick="enviarnumero(this.value)">1</button></td>
							<td><button type="button" value="2" onclick="enviarnumero(this.value)">2</button></td>
							<td><button type="button" value="3" onclick="enviarnumero(this.value)">3</button></td>
							<td><button type="button" value="+" onclick="operador(this.value)">+</button></td>
						</tr>
						<tr>
							<td><button type="button" value="0" onclick="enviarnumero(this.value)">0</button></td>
							<td><button type="button" value="." onclick="enviarnumero(this.value)">.</button></td>
							<td><button type="button" onclick="limpardigito()">⌫</button></td>
							<td><button type="button" onclick="igual()">=</button></td>
						</tr>
					</tbody>
				</table>

			</form>
		</div>
	</div>
</body>
</html>
